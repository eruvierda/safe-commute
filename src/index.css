@tailwind base;
@tailwind components;
@tailwind utilities;

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html,
body,
#root {
  width: 100%;
  height: 100%;
  overflow: hidden;
}

.leaflet-container {
  font-family: inherit;
}

.leaflet-popup-content-wrapper {
  border-radius: 8px;
}

.leaflet-popup-content {
  margin: 0;
}

/* Custom pin cursor for marker creation */
.cursor-pin {
  cursor: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='42' viewBox='0 0 32 42'%3E%3Cpath d='M16 0C7.163 0 0 7.163 0 16c0 12 16 26 16 26s16-14 16-26c0-8.837-7.163-16-16-16z' fill='%233B82F6' stroke='%23ffffff' stroke-width='2'/%3E%3Ccircle cx='16' cy='16' r='6' fill='%23ffffff'/%3E%3C/svg%3E") 16 0, pointer;
}

.cursor-pin * {
  cursor: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='42' viewBox='0 0 32 42'%3E%3Cpath d='M16 0C7.163 0 0 7.163 0 16c0 12 16 26 16 26s16-14 16-26c0-8.837-7.163-16-16-16z' fill='%233B82F6' stroke='%23ffffff' stroke-width='2'/%3E%3Ccircle cx='16' cy='16' r='6' fill='%23ffffff'/%3E%3C/svg%3E") 16 0, pointer;
}

/* ========================================
   ACCESSIBILITY & FOCUS INDICATORS
   ======================================== */

/* Enhanced focus indicators for keyboard navigation */
button:focus-visible,
a:focus-visible,
input:focus-visible,
textarea:focus-visible,
select:focus-visible,
[role="button"]:focus-visible {
  outline: 3px solid #3B82F6;
  outline-offset: 2px;
  border-radius: 4px;
}

/* Remove default outline but keep for keyboard users */
button:focus:not(:focus-visible),
a:focus:not(:focus-visible),
input:focus:not(:focus-visible),
textarea:focus:not(:focus-visible),
select:focus:not(:focus-visible) {
  outline: none;
}

/* Ensure minimum touch target size (44x44px) for mobile */
@media (max-width: 640px) {

  button,
  a,
  [role="button"] {
    min-height: 44px;
    min-width: 44px;
  }
}

/* Skip to main content link for screen readers */
.skip-to-main {
  position: absolute;
  left: -9999px;
  z-index: 999;
  padding: 1em;
  background-color: white;
  color: #3B82F6;
  text-decoration: none;
  border-radius: 4px;
}

.skip-to-main:focus {
  left: 50%;
  transform: translateX(-50%);
  top: 1em;
}

/* Improve contrast for better readability */
::selection {
  background-color: #3B82F6;
  color: white;
}

/* Ensure interactive elements have pointer cursor */
button,
a,
[role="button"],
input[type="submit"],
input[type="button"] {
  cursor: pointer;
}

/* Disabled state should not have pointer cursor */
button:disabled,
input:disabled,
textarea:disabled,
select:disabled {
  cursor: not-allowed;
  opacity: 0.6;
}

/* Smooth focus transitions */
* {
  transition: outline 0.2s ease-in-out;
}

/* High contrast mode support */
@media (prefers-contrast: high) {

  button:focus-visible,
  a:focus-visible,
  input:focus-visible,
  textarea:focus-visible,
  select:focus-visible {
    outline-width: 4px;
  }
}

/* Reduced motion support for accessibility */
@media (prefers-reduced-motion: reduce) {

  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}